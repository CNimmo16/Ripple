(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)r=o[p],n[r]&&d.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/Ripple/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"018a":function(t,e,a){t.exports=a.p+"img/move-me.f77c848b.jpg"},"022e":function(t,e,a){},"034f":function(t,e,a){"use strict";var i=a("64a9"),n=a.n(i);n.a},"09de":function(t,e,a){t.exports=a.p+"media/pianiste.1d0b8dad.mp3"},"1aa9":function(t,e,a){var i={"./eucalyptus.mp3":"29cb","./julien.mp3":"3e2b","./magic-wand.mp3":"2783","./mind-mischief.mp3":"adb2","./move-me.mp3":"a3e1","./pianiste.mp3":"09de"};function n(t){var e=s(t);return a(e)}function s(t){var e=i[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}n.keys=function(){return Object.keys(i)},n.resolve=s,t.exports=n,n.id="1aa9"},"1d1b":function(t,e,a){t.exports=a.p+"img/igor.054ca513.jpg"},"21c6":function(t,e,a){t.exports=a.p+"img/impala.ddbadf0b.jpg"},2783:function(t,e,a){t.exports=a.p+"media/magic-wand.7d882a72.mp3"},"29cb":function(t,e,a){t.exports=a.p+"media/eucalyptus.d30a11a2.mp3"},"3e2b":function(t,e,a){t.exports=a.p+"media/julien.3b4f5b9d.mp3"},"41d6":function(t,e,a){"use strict";var i=a("022e"),n=a.n(i);n.a},"4d58":function(t,e,a){t.exports=a.p+"img/third-room.26a19f00.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("PlayerView")],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player-view",on:{mousemove:function(e){return t.getCurrPosition(e)}}},[a("div",{staticClass:"player"},t._l(t.tracks,function(e,i){return a("TrackCard",{key:i,attrs:{track:e,position:t.currPosition[i],current:t.current,trackChanging:t.trackChanging},on:{grow:function(e){return t.grow(i)},shrink:function(e){return t.shrink(i)},"skip-to":function(e){return t.skipTo(i)},"play-next":function(e){return t.playNext(i)},"skip-previous":t.skipPrevious,"skip-next":t.skipNext,"toggle-play":function(e){return t.togglePlay()},"demo-alert":function(e){return t.fireDemoAlert()}}})}),1),a("transition",{attrs:{name:"fade"}},[t.demoAlertActive?a("div",{staticClass:"demo-alert"},[t._v("Woah, this is just a demo application! There is no suggested song algorithm, so only 3 playable tracks have been included for demonstration purposes.")]):t._e()])],1)},o=[],c=a("768b"),l=(a("ac6a"),a("ffc1"),a("15d3")),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"track-card",class:{current:t.$vnode.key===t.current,previous:t.$vnode.key<t.current,next:t.$vnode.key>t.current},on:{click:function(e){return e.stopPropagation(),t.handleClick()},mouseenter:function(e){return e.stopPropagation(),t.$emit("grow",t.$vnode.key)},mouseleave:function(e){return e.stopPropagation(),t.$emit("shrink",t.$vnode.key)}}},[i("article",[i("div",{staticClass:"track-header",class:{active:t.$vnode.key===t.current&&!1===t.trackChanging}},[t._v("\n            Now Playing\n        ")]),i("div",{staticClass:"track-header",class:{active:t.$vnode.key===t.current+1&&!1===t.trackChanging}},[t._v("\n            Up next\n        ")]),i("img",{staticClass:"cover",attrs:{src:t.track.cover}}),i("div",{staticClass:"artists"},[i("span",{staticClass:"main"},[t._v(t._s(t.track.artists[0]))]),t.track.artists.length>1?i("span",{staticClass:"features"},[t._v("\n                feat. \n                "),t._l(t.track.artists.slice(1),function(e,a){return i("span",{key:a},[t._v(t._s(e))])})],2):t._e()]),i("h2",{staticClass:"title"},[t._v(t._s(t.track.title))]),i("div",{staticClass:"album"},["album"===t.track.type?i("img",{attrs:{src:a("e271")}}):i("img",{attrs:{src:a("5ca3")}}),i("h3",[t._v(t._s(t.track.album))])]),t.position?i("div",{staticClass:"overlay",style:{opacity:2*t.position.opacity}}):t._e(),i("Controls",{attrs:{active:t.$vnode.key===t.current&&!1===t.trackChanging,index:t.$vnode.key},on:{"skip-previous":function(e){return t.$emit("skip-previous")},"skip-next":function(e){return t.$emit("skip-next")},"toggle-play":function(e){return t.$emit("toggle-play")}}}),t.$vnode.key<t.current?i("button",{staticClass:"return button"},[t._v("\n            Click to return to track\n        ")]):t._e(),t.$vnode.key===t.current+1?i("button",{staticClass:"next"},[t._v("\n            Click to skip to track\n        ")]):t._e(),t.$vnode.key>t.current+1?i("button",{staticClass:"next button"},[t._v("\n            Click to play next\n        ")]):t._e()],1)])},p=[],d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"controls",class:{active:t.active},on:{mousemove:function(t){t.stopPropagation()}}},[i("div",{staticClass:"play-controls"},[t._m(0),i("div",{staticClass:"previous icon"},[i("img",{attrs:{src:a("7383")},on:{click:function(e){return e.stopPropagation(),t.$emit("skip-previous")}}})]),i("div",{staticClass:"play icon",on:{click:t.togglePlay}},[t.isPlaying?i("img",{attrs:{src:a("adc7")}}):i("img",{attrs:{src:a("b878")}})]),i("div",{staticClass:"next icon",on:{click:function(e){return e.stopPropagation(),t.$emit("skip-next")}}},[i("img",{attrs:{src:a("c91a")}})]),t._m(1)]),i("ProgressBar",{attrs:{active:t.active,index:t.index,isPlaying:t.isPlaying}})],1)},f=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loop icon"},[i("img",{attrs:{src:a("911a")}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shuffle icon"},[i("img",{attrs:{src:a("df78")}})])}],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",on:{mousemove:function(e){return e.stopPropagation(),t.getSeeking(e)},click:function(e){return t.setSeeking(e)}}},[a("div",{staticClass:"fill"}),a("div",{staticClass:"ghost",style:{width:t.seekPercent}},[a("div",{staticClass:"cursor"})])])])},h=[],g={name:"ProgressBar",data:function(){return{position:"0:00",duration:"3:35",percentRaw:0,seekPercentRaw:0,animation:null}},props:["index","isPlaying","active"],watch:{durationRaw:function(t){this.slideBar()},isPlaying:function(t){this.togglePlay(t)}},computed:{durationRaw:function(){return this.$store.state.duration},positionRaw:function(){return this.$store.state.position},percent:function(){return(100*this.seekPercentRaw).toFixed(2)+"%"},seekPercent:function(){return(100*this.seekPercentRaw).toFixed(2)+"%"}},methods:{slideBar:function(){if(this.active){this.$gsap.killAll();var t=this.durationRaw-this.positionRaw,e=this.positionRaw/this.durationRaw*350;this.$gsap.fromTo(window.document.getElementsByClassName("fill")[this.index],t,{css:{scaleX:e}},{css:{scaleX:350},ease:"linear"})}},togglePlay:function(t){this.active&&(t?this.slideBar():this.$gsap.killAll())},getSeeking:function(t){if(this.active){var e=window.document.getElementsByClassName("progress-bar")[this.index].getBoundingClientRect(),a=e.left,i=t.clientX-a,n=e.width;this.seekPercentRaw=i/n}}}},v=g,y=(a("bce4"),a("2877")),k=Object(y["a"])(v,m,h,!1,null,"d8d4b96c",null),b=k.exports,C=(a("1e5c"),{name:"Controls",data:function(){return{isPlaying:!0,playerID:null}},props:["active","index"],components:{ProgressBar:b},methods:{togglePlay:function(){this.$emit("toggle-play"),this.isPlaying=!this.isPlaying}}}),x=C,P=(a("41d6"),Object(y["a"])(x,d,f,!1,null,"b7dee8be",null)),w=P.exports,$={name:"TrackCard",props:["track","position","current","trackChanging"],components:{Controls:w},watch:{position:function(t){var e={},a=window.document.getElementsByClassName("player-view")[0].getBoundingClientRect(),i=window.document.getElementsByClassName("track-card")[0].clientHeight;if(t.translateX){var n=window.document.getElementsByClassName("track-card")[0].clientWidth,s=a.width-n;t.translateX;e.x=t.translateX*s/100-n/2}else e.x=0;if(e.y=t.translateY?t.translateY*a.height/100-i/2:i/2*-1,e.z=t.translateZ?t.translateZ:2e3,t.scale){var r=t.scale*((a.height+913)/1850);r*i*1.3>a.height-20&&(r=(a.height-20)/(1.3*i)),e.scale=r}else e.scale=1;e.rotationY=t.rotateY?t.rotateY:0,this.$gsap.to(this.$el,.5,{css:e})}},methods:{handleClick:function(){this.$vnode.key>=4&&this.$vnode.key<=6?this.$vnode.key<=this.current+1?this.$emit("skip-to",this.$vnode.key):this.$emit("play-next",this.$vnode.key):this.$emit("demo-alert")}}},_=$,Y=(a("70f0"),Object(y["a"])(_,u,p,!1,null,null,null)),E=Y.exports,Z={name:"PlayerView",components:{TrackCard:E},mounted:function(){this.$nextTick(function(){var t=this;window.addEventListener("resize",function(){t.getCurrPosition()})}),this.getCurrPosition(),this.playAudio()},data:function(){return{currPosition:[{rotateY:-23,translateZ:1e3},{rotateY:-17,translateZ:1100},{rotateY:-8,translateZ:1200},{rotateY:0,translateZ:1300},{rotateY:7,translateZ:1300},{rotateY:7,translateZ:1300},{rotateY:7,translateZ:1300},{rotateY:7,translateZ:1300}],hovered:null,trackChanging:!1,demoAlertActive:!1,positions:{mouseLeft:[{rotateY:-25,translateZ:1600,translateX:-62,scale:.38,opacity:.55},{rotateY:-20,translateZ:1680,translateX:-59.5,scale:.68,opacity:.55},{rotateY:-15,translateZ:1760,translateX:-45.9,scale:.83,opacity:.25},{rotateY:-9,translateZ:1840,translateX:-31.1,scale:.93,opacity:.15},{rotateY:-4,translateZ:1920,translateX:-11.7,scale:.97,opacity:.07},{rotateY:0,translateZ:2e3,translateX:7.4,scale:1,opacity:0},{rotateY:7,translateZ:1800,translateX:30.4,translateY:0,scale:.81,opacity:.17},{rotateY:7,translateZ:1600,translateX:45.3,translateY:-25.2,scale:.8,opacity:.4},{rotateY:7,translateZ:1400,translateX:54.5,translateY:13.1,scale:.79,opacity:.66},{rotateY:7,translateZ:1200,translateX:65.8,translateY:-8.8,scale:.77,opacity:.8},{rotateY:10,translateZ:1100,translateX:63,scale:.38,opacity:.9}],mouseRight:[{rotateY:-20,translateZ:1e3,translateX:-62,scale:.58,opacity:.45},{rotateY:-20,translateZ:1200,translateX:-60.9,scale:.68,opacity:.45},{rotateY:-37,translateZ:1400,translateX:-55,scale:.75,opacity:.66},{rotateY:-25,translateZ:1600,translateX:-43.7,scale:.82,opacity:.4},{rotateY:-13,translateZ:1800,translateX:-28.2,scale:.93,opacity:.17},{rotateY:0,translateZ:2e3,translateX:-9.2,scale:1,opacity:0},{rotateY:3,translateZ:1920,translateX:13.5,translateY:0,scale:.9,opacity:.17},{rotateY:2,translateZ:1840,translateX:35.8,translateY:-25.2,scale:.8,opacity:.07},{rotateY:2,translateZ:1760,translateX:36.5,translateY:19.7,scale:.73,opacity:.07},{rotateY:1,translateZ:1680,translateX:58.1,translateY:2.2,scale:.72,opacity:.07},{rotateY:3,translateZ:1600,translateX:62,scale:.4,opacity:.9}]},hoverPositions:[{r:9,t:10},{r:9,t:10},{r:7,t:6},{r:6,t:3},{r:3,t:-1},{r:0,t:0},{r:-3,t:0},{r:-4,t:-4},{r:-5,t:-5},{r:-5,t:-10},{r:-5,t:-10}],current:5,isPlaying:!0,tracks:[{cover:a("6eef"),artists:["Skepta","Nafe Smallz"],title:"Greaze Mode",type:"album",album:"Ignorance is Bliss"},{cover:a("cf2a"),artists:["Jay Critch"],title:"Don't @ Me",type:"single",album:"Don't @ Me"},{cover:a("1d1b"),artists:["Tyler, The Creator"],title:"NEW MAGIC WAND",type:"album",album:"IGOR"},{cover:a("f9f9"),artists:["Kendrick Lamar"],title:"A.D.H.D.",type:"album",album:"Section.80"},{cover:a("5997"),artists:["Koresma","Marley Carroll"],title:"Eucalyptus",type:"single",album:"Eucalyptus",audio:"eucalyptus"},{cover:a("21c6"),artists:["Tame Impala"],title:"Mind Mischief",type:"album",album:"Lonerism",audio:"mind-mischief"},{cover:a("018a"),artists:["Mura Masa","Octavian"],title:"Move Me",type:"single",album:"Move Me",audio:"move-me"},{cover:a("4d58"),artists:["Khruangbin"],title:"Evan Finds the Third Room",type:"album",album:"Con Todo El Mundo"},{cover:a("e394"),artists:["Lime Cordiale"],title:"Temper Temper",type:"album",album:"Permanent Vacation"},{cover:a("9257"),artists:["Damso"],title:"Julien",type:"album",album:"Lithopédion"}]}},methods:{playAudio:function(){var t=this,e=this.tracks[this.current].audio;this.audioElem?(this.audioElem.removeEventListener("ended",this.skipNext),this.audioElem.pause(),this.audioElem.src=a("1aa9")("./"+e+".mp3"),this.audioElem.load()):this.audioElem=new Audio(a("1aa9")("./"+e+".mp3")),this.audioElem.addEventListener("loadedmetadata",function(e){t.audioElem.play(),t.$store.commit("setPosition",0),t.$store.commit("setDuration",e.path[0].duration)}),this.audioElem.addEventListener("ended",this.skipNext)},fireDemoAlert:function(){var t=this;!1===this.demoAlertActive&&(this.demoAlertActive=!0,window.setTimeout(function(){t.demoAlertActive=!1},5e3))},grow:function(t){t!==this.current&&(this.hovered=t),this.getCurrPosition(null)},shrink:function(){this.hovered=null,this.getCurrPosition()},playNext:function(t){this.tracks.splice(this.current+1,0,this.tracks.splice(t,1)[0]),this.playAudio()},togglePlay:function(){this.isPlaying?(this.audioElem.pause(),this.isPlaying=!1,this.$store.commit("setPosition",this.audioElem.currentTime)):(this.audioElem.play(),this.isPlaying=!0)},skipPrevious:function(){this.current>4?this.skipTo(this.current-1):this.fireDemoAlert()},skipNext:function(){this.current<6?this.skipTo(this.current+1):this.fireDemoAlert()},skipTo:function(t){var e=this;t!==this.current&&(this.current=t,this.trackChanging=!0,this.getCurrPosition(),window.setTimeout(function(){e.trackChanging=!1,e.playAudio()},500))},getCurrPosition:Object(l["a"])(100,function(t){var e=window.document.getElementsByClassName("player-view")[0].getBoundingClientRect(),a=t?(t.clientX-e.x)/e.width:.5,i=[],n=5-this.current,s=null;s=n>0?{mouseLeft:this.positions.mouseLeft.slice(n),mouseRight:this.positions.mouseRight.slice(n)}:n<0?{mouseLeft:[{rotateY:-25,translateZ:1400,translateX:-62,scale:.38,opacity:.55}].concat(this.positions.mouseLeft).concat([{}]),mouseRight:[{rotateY:-25,translateZ:600,translateX:-62,scale:.38,opacity:.55}].concat(this.positions.mouseRight).concat([{}])}:this.positions;for(var r=0;r<s.mouseLeft.length;r++){for(var o={},l=0,u=Object.entries(s.mouseLeft[r]);l<u.length;l++){var p=Object(c["a"])(u[l],1),d=p[0],f=s.mouseLeft[r][d],m=s.mouseRight[r][d];o[d]=f+(m-f)*a}i.push(o)}if("number"===typeof this.hovered&&!1===this.trackChanging&&this.hovered!==this.current){d=this.hovered;var h=[.95,.97,.98,.98,.98,.98];i[d].scale=i[d].scale*h[0];i[d].translateZ;i[d].translateZ=2020,i[d].rotateY+=this.hoverPositions[d-(this.current-5)].r,i[d].translateX+=this.hoverPositions[d-(this.current-5)].t;for(var g=1;g<i.length;g++)d-g>=5&&d-g!==this.current&&(i[d-g].scale=i[d-g].scale*h[g]),d+g<i.length-6&&d+g!==this.current&&(i[d+g].scale=i[d+g].scale*h[g])}this.currPosition=i})}},j=Z,X=(a("70bd"),Object(y["a"])(j,r,o,!1,null,null,null)),T=X.exports,O={name:"app",components:{PlayerView:T},mounted:function(){}},A=O,R=(a("034f"),Object(y["a"])(A,n,s,!1,null,null,null)),M=R.exports,N=a("2f62"),L=a("67b0"),B=a("109c");i["a"].use(N["a"]);var D=new N["a"].Store({state:{spotifyToken:null,duration:0,position:0},mutations:{setToken:function(t,e){t.spotifyToken=e},setDuration:function(t,e){t.duration=e},setPosition:function(t,e){t.position=e}},actions:{}});i["a"].config.productionTip=!1,i["a"].use(N["a"]),i["a"].use(L["a"]);var S=a("be8d"),I=new S;Object.defineProperty(i["a"].prototype,"$spotify",{value:I}),Object.defineProperty(i["a"].prototype,"$gsap",{value:B["a"]}),new i["a"]({store:D,render:function(t){return t(M)}}).$mount("#app")},5997:function(t,e,a){t.exports=a.p+"img/eucalyptus.068f98a9.jpg"},"5ca3":function(t,e,a){t.exports=a.p+"img/single.334ad45e.svg"},"64a9":function(t,e,a){},"6eef":function(t,e,a){t.exports=a.p+"img/skepta.8ff2fb83.jpg"},"70bd":function(t,e,a){"use strict";var i=a("eba4"),n=a.n(i);n.a},"70f0":function(t,e,a){"use strict";var i=a("caf3"),n=a.n(i);n.a},7383:function(t,e,a){t.exports=a.p+"img/previous.a7db2e9f.svg"},"911a":function(t,e,a){t.exports=a.p+"img/repeat-one.b95262cd.svg"},9257:function(t,e,a){t.exports=a.p+"img/julien.137d8e6b.jpg"},a3e1:function(t,e,a){t.exports=a.p+"media/move-me.325512ee.mp3"},adb2:function(t,e,a){t.exports=a.p+"media/mind-mischief.ee8bc4ca.mp3"},adc7:function(t,e,a){t.exports=a.p+"img/pause.cd7da876.svg"},b878:function(t,e,a){t.exports=a.p+"img/play.0afc49f2.svg"},bce4:function(t,e,a){"use strict";var i=a("f9e9"),n=a.n(i);n.a},c91a:function(t,e,a){t.exports=a.p+"img/next.848b60a2.svg"},caf3:function(t,e,a){},cf2a:function(t,e,a){t.exports=a.p+"img/dont@me.62670771.jpg"},df78:function(t,e,a){t.exports=a.p+"img/shuffle.664110fe.svg"},e271:function(t,e,a){t.exports=a.p+"img/album.8eefafee.svg"},e394:function(t,e,a){t.exports=a.p+"img/lime-cordiale.bf7e7e1e.jpg"},eba4:function(t,e,a){},f9e9:function(t,e,a){},f9f9:function(t,e,a){t.exports=a.p+"img/section80.01f6f5ea.jpg"}});
//# sourceMappingURL=app.432e15b7.js.map